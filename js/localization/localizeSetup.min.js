let LocalizeHelper={getSettings:null,settings:null,loadFileForLanguage:null,switchLanguage:null,getPreferredLocale:null};(function(a){(function(f){let GlobalJSData=a.GlobalJSData||{};let htmlRoot=null;f(function(){htmlRoot=f("body");b();g(function(){})});function b(){if(LocalizeHelper.settings===null){let settingsElement=f("#localize_settings");if(settingsElement.length===0){console.error("Localize settings missing. An element with id of 'localize_settings' is require for localization.");return null}else{var k=settingsElement.data("localizationSettings");var i=[];for(var j in k.locales_preferred){if(k.locales_preferred.hasOwnProperty(j)){i.push({locale:j,priority:k.locales_preferred[j]})}}i.sort(function(m,l){var o=parseFloat(m.priority);o=isNaN(o)?0:o;var n=parseFloat(l.priority);n=isNaN(n)?0:n;return n-o});k.locales_preferred=i;LocalizeHelper.settings=k}}return LocalizeHelper.settings}LocalizeHelper.getSettings=b;function g(j){if(LocalizeHelper.settings===null){console.error("Localize settings missing.");return}var i=LocalizeHelper.settings.preferred_simplified_locale;f.i18n({locale:i});LocalizeHelper.switchLanguage(i,function(){f.i18n().load(LocalizeHelper.settings.preferred_lang_messages,i).done(function(){htmlRoot.i18n();if((typeof j!=="undefined")&&(j!==null)){j()}})})}LocalizeHelper.init=g;function h(j,i){if(LocalizeHelper.settings===null){console.error("Localize settings missing.");return}f.i18n().load(GlobalJSData.pluginURL+"/js/localization/i18n/"+LocalizeHelper.settings.page_name+"-"+j+".json",j).done(i)}LocalizeHelper.loadFileForLanguage=h;function d(j,i){if(LocalizeHelper.settings===null){console.error("Localize settings missing.");return}f.i18n().load(GlobalJSData.pluginURL+"/js/localization/i18n/base-translations-"+j+".json",j).done(i)}LocalizeHelper.loadBaseTranslations=d;function c(j,i){if(LocalizeHelper.settings===null){console.error("Localize settings missing.");return}LocalizeHelper.loadBaseTranslations(j,function(){if(f.inArray(j,LocalizeHelper.settings.available_languages)>-1){h(j,function(){f.i18n().locale=j;htmlRoot.i18n();if((typeof i!=="undefined")&&(i!==null)){i()}})}else{f.i18n().locale=j;htmlRoot.i18n();if(j!=="en"){console.warn("The language '"+j+"' is not available for this page.")}}})}LocalizeHelper.switchLanguage=c;function e(){if(LocalizeHelper.settings===null){console.error("Localize settings missing.");return null}return LocalizeHelper.settings.preferred_simplified_locale}LocalizeHelper.getPreferredLocale=e})(jQuery)})(this);