var rng=require("./lib/rng");var bytesToUuid=require("./lib/bytesToUuid");var _nodeId;var _clockseq;var _lastMSecs=0;var _lastNSecs=0;function v1(q,d,h){var j=d&&h||0;var k=d||[];q=q||{};var f=q.node||_nodeId;var g=q.clockseq!==undefined?q.clockseq:_clockseq;if(f==null||g==null){var m=rng();if(f==null){f=_nodeId=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]}if(g==null){g=_clockseq=(m[6]<<8|m[7])&16383}}var a=q.msecs!==undefined?q.msecs:new Date().getTime();var p=q.nsecs!==undefined?q.nsecs:_lastNSecs+1;var c=(a-_lastMSecs)+(p-_lastNSecs)/10000;if(c<0&&q.clockseq===undefined){g=g+1&16383}if((c<0||a>_lastMSecs)&&q.nsecs===undefined){p=0}if(p>=10000){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}_lastMSecs=a;_lastNSecs=p;_clockseq=g;a+=12219292800000;var o=((a&268435455)*10000+p)%4294967296;k[j++]=o>>>24&255;k[j++]=o>>>16&255;k[j++]=o>>>8&255;k[j++]=o&255;var l=(a/4294967296*10000)&268435455;k[j++]=l>>>8&255;k[j++]=l&255;k[j++]=l>>>24&15|16;k[j++]=l>>>16&255;k[j++]=g>>>8|128;k[j++]=g&255;for(var e=0;e<6;++e){k[j+e]=f[e]}return d?d:bytesToUuid(k)}module.exports=v1;